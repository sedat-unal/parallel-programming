using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace ConsoleApp3
{
    class Program
    {
        static void Main(string[] args)
        {
            int[] A = new int[10000];
            Random rastgele = new Random();
            for (int i = 0; i < A.Length; i++)
            {
                A[i] = rastgele.Next(1, 10000);
                
            }

            int maksimum = 0;
            int divide = 5;
            int everyPiecesLength = A.Length / divide;

            for (int i = 0; i < divide; i++)
            {
                maksimumuBul mb = new maksimumuBul();
                mb.array = A;
                mb.maksimum = maksimum;
                mb.startIndex = i * everyPiecesLength;
                mb.endIndex = mb.startIndex + everyPiecesLength;
                mb.taskID = i;

                Task task = new Task(obj => maksimumFunc((maksimumuBul)obj), mb);
                task.Start();
            }
            Console.Read();
        }

        static int maksimumFunc(maksimumuBul mb)
        {
            for (int i = mb.startIndex; i < mb.endIndex - 1; i++)
            {
                if(mb.array[i] > mb.array[i + 1])
                {
                    Console.WriteLine("bu dizinin idsi {0} ve maksimumu {1}", mb.taskID, i);
                    return i;
                }
            }
            return -1;
        }

        public class maksimumuBul
        {
            public int[] array;
            public int maksimum;
            public int startIndex;
            public int endIndex;
            public int taskID;
        }
    }
}
